<html>
	<head>
		<title>ECC Workflow Designer</title>

		<!-- 
		LiveReload support.
		http://livereload.com/
		-->
		<script src="http://localhost:35729/livereload.js?snipver=1"></script>

		<link rel="stylesheet" href="css/computation-form.css">
		<link rel="stylesheet" href="css/device-form.css">
		<link rel="stylesheet" href="css/storage-form.css">
		<link rel="stylesheet" href="css/communication-form.css">
		<link rel="stylesheet" href="css/catalog-form.css">
	</head>	
	<body 
		ng-app="app" 
		ng-controller="AppCtrl"
		mouse-capture
		ng-keydown="keyDown($event)"
		ng-keyup="keyUp($event)"
		ng-click="hideContextMenu()"
		>

		<div class='app-container' style="width: 100%; overflow: hidden;">
		    <div class="json-container" style="float: left;">
				<div class="json-content">
					<textarea 
						id="json-textarea"
						style="width: 100%; height: 100%;"
						chart-json-edit
						view-model="chartViewModel"
						>
					</textarea>
				</div>
			</div>
		    <div class="flowchart-container">
				<div class="top-menu">
					<button
					ng-click="toggleJsonButton()"
					class="json-button">
					 Hide JSON
					</button> 
					<button
    				ng-click="uploadCatalog()"
    				title="Upload AWS catalog and then send to server"
    				>
    				Upload Catalog
					</button>
					<button
					ng-click="saveFile()"
					title="Save the current workflow"
					>
					Save
					</button>
					<button
					ng-click="loadFile()"
					title="Load a workflow"
					>
					Load
					</button>
				</div>
				
				<!--
				This custom element defines the flowchart.
				-->
			    <flow-chart
		    		style="margin: 5px;"
			      	chart="chartViewModel"
					class="zoom-element"
					ng-style="{'transform': 'scale(' + scale + ')'}"
					on-wheel="handleWheel($event)"
			      	>
			    </flow-chart>
		    </div>
		</div>

		<link rel="stylesheet" type="text/css" href="app.css">

		<!-- Library code. -->
		<script src="lib/jquery-2.0.2.js" type="text/javascript"></script>
		<script src="lib/angular.js" type="text/javascript"></script>

		<!-- Flowchart code. -->
		<script src="debug.js" type="text/javascript"></script>
		<script src="flowchart/svg_class.js" type="text/javascript"></script>
		<script src="flowchart/mouse_capture_service.js" type="text/javascript"></script>
		<script src="flowchart/dragging_service.js" type="text/javascript"></script>
		<script src="flowchart/flowchart_viewmodel.js" type="text/javascript"></script>
		<script src="flowchart/directives/flowchart_directive.js" type="text/javascript"></script>
		<script src="flowchart/directives/flowchart_device_directive.js" type="text/javascript"></script>
		<!-- App code. -->
		<script src="app.js" type="text/javascript"></script>
	</body>
</html>