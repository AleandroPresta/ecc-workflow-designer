<div class="flowchart-result-container">
    <div class="w-100 h-100 position-relative">
        <svg width="100%" height="100%" style="display:block;width:100%;height:100%;border:none;background:#fafafa;" ng-if="staticChart">
            <defs>
                <linearGradient id="nodeBackgroundGradientDevice" x1="0" y1="1" x2="0" y2="0" spreadMethod="pad">
                    <stop offset="0" stop-opacity="0.99609" stop-color="rgb(255,255,255)"/>
                </linearGradient>
                <linearGradient id="nodeBackgroundGradientComputation" x1="0" y1="1" x2="0" y2="0" spreadMethod="pad">
                    <stop offset="0" stop-opacity="0.99609" stop-color="rgb(144,238,144)"/>
                </linearGradient>
                <linearGradient id="nodeBackgroundGradientStorage" x1="0" y1="1" x2="0" y2="0" spreadMethod="pad">
                    <stop offset="0" stop-opacity="0.99609" stop-color="rgb(245,222,179)"/>
                </linearGradient>
                <linearGradient id="nodeBackgroundGradientCommunication" x1="0" y1="1" x2="0" y2="0" spreadMethod="pad">
                    <stop offset="0" stop-opacity="0.99609" stop-color="rgb(135,206,235)"/>
                </linearGradient>
            </defs>
            <g>
                <g ng-repeat="connection in staticChart.connections">
                    <path
                        ng-attr-d="M {{connection.sourceCoordX()}}, {{connection.sourceCoordY()}}
                             C {{connection.sourceTangentX()}}, {{connection.sourceTangentY()}}
                               {{connection.destTangentX()}}, {{connection.destTangentY()}}
                               {{connection.destCoordX()}}, {{connection.destCoordY()}}"
                        style="stroke: black; fill: none;"
                    ></path>
                    <text
                        ng-attr-x="{{connection.middleX()}}"
                        ng-attr-y="{{connection.middleY()}}"
                        text-anchor="middle"
                        alignment-baseline="middle"
                        style="font-size: 12px; fill: #333;"
                    >
                        {{connection.name()}}
                    </text>
                </g>
            </g>
            <g ng-repeat="node in staticChart.nodes"
               ng-attr-transform="translate({{node.x()}}, {{node.y()}})">
                <rect
                    ry="10" rx="10" x="0" y="0"
                    ng-attr-width="{{node.width()}}"
                    ng-attr-height="{{node.height()}}"
                    ng-attr-fill="url(#nodeBackgroundGradient{{node.type()}})"
                    style="stroke: #1976d2; stroke-width: 2;"
                ></rect>
                <text ng-attr-x="{{node.width()/2}}" y="20" text-anchor="middle" alignment-baseline="middle" style="font-size: 16px; font-weight: bold;">{{node.name()}}</text>
                <text ng-if="node.quantity > 1" ng-attr-x="{{node.width() - 20}}" ng-attr-y="{{node.height() - 20}}" text-anchor="middle" alignment-baseline="middle" style="font-size: 12px;">{{node.quantity}}</text>
                <image height="50" width="50" ng-attr-y="{{node.height()/2 - 20}}" ng-attr-x="{{node.width()/2 - 25}}" ng-attr-href="{{node.image}}" />
            </g>
        </svg>
        <div ng-if="!staticChart" class="d-flex justify-content-center align-items-center w-100 h-100">
            <p class="text-muted fs-2">No graph data to display.</p>
        </div>
    </div>
</div>
